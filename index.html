<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horario ISC - Grupo 3111</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.5);
        }
        
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
</style>
</head>
<body class="bg-slate-100 text-slate-800 min-h-screen flex flex-col">

    <header class="bg-emerald-700 text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-lg md:text-xl font-bold leading-tight">Ing. Sistemas Computacionales</h1>
                <p class="text-emerald-200 text-sm font-medium">Grupo 3111 • Semestre Actual</p>
            </div>
            <div class="hidden md:block text-right">
                <p id="current-date-display" class="text-sm opacity-90 font-mono"></p>
            </div>
            <button onclick="toggleView()" class="md:hidden p-2 rounded hover:bg-emerald-600 transition" title="Cambiar vista">
                <i data-lucide="calendar-days" class="w-6 h-6"></i>
            </button>
        </div>
    </header>

    
    <nav class="bg-white shadow-sm border-b border-slate-200 sticky top-[72px] z-40 md:hidden overflow-x-auto no-scrollbar">
        <div class="flex justify-between min-w-full px-2 py-2" id="day-tabs">
            
        </div>
    </nav>

    <main class="flex-grow p-4 max-w-5xl mx-auto w-full">
        
        
        <div id="mobile-view" class="block md:hidden space-y-4">
            
            <div id="day-header" class="flex items-center gap-2 text-emerald-700 font-bold text-xl mb-4">
                <i data-lucide="calendar" class="w-6 h-6"></i>
                <span id="active-day-title">Lunes</span>
            </div>
            
            
            <div id="weekend-alert" class="hidden mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-800 text-sm flex items-center gap-2 fade-in">
                <i data-lucide="info" class="w-4 h-4 text-blue-500"></i>
                <span>Mostrando horario del Lunes para planificación.</span>
            </div>

            <div id="class-list" class="space-y-3">
                
            </div>
            
            <div id="empty-state" class="hidden text-center py-12 text-slate-400">
                <i data-lucide="coffee" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
                <p>No hay clases programadas para este día.</p>
            </div>
        </div>

        
        <div id="desktop-view" class="hidden md:block bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200">
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left">
                    <thead class="bg-emerald-50 text-emerald-900 uppercase text-xs font-bold">
                        <tr>
                            <th class="px-4 py-3 border-b">Hora</th>
                            <th class="px-4 py-3 border-b">Lunes</th>
                            <th class="px-4 py-3 border-b">Martes</th>
                            <th class="px-4 py-3 border-b">Miércoles</th>
                            <th class="px-4 py-3 border-b">Jueves</th>
                            <th class="px-4 py-3 border-b">Viernes</th>
                        </tr>
                    </thead>
                    <tbody id="desktop-schedule-body" class="divide-y divide-slate-100">
                        
                    </tbody>
                </table>
            </div>
        </div>

    </main>

    <footer class="bg-slate-800 text-slate-400 py-6 text-center text-xs mt-auto">
        <p>Datos extraídos de PDF oficial del TESVG.</p>
    </footer>

    <script>
const scheduleData = {
            "Lunes": [
                { start: "12:00", end: "14:00", subject: "Cálculo Diferencial", type: "math" },
                { start: "14:00", end: "16:00", subject: "Fundamentos de Investigación", type: "theory" },
                { start: "16:00", end: "18:00", subject: "Taller de Ética", type: "humanity" }
            ],
            "Martes": [
                { start: "13:00", end: "15:00", subject: "Matemáticas Discretas", type: "math" },
                { start: "15:00", end: "17:00", subject: "Fundamentos de Programación", type: "code" },
                { start: "17:00", end: "19:00", subject: "Taller de Administración", type: "admin" }
            ],
            "Miércoles": [
                { start: "11:00", end: "13:00", subject: "Taller de Ética", type: "humanity" },
                { start: "13:00", end: "16:00", subject: "Matemáticas Discretas", type: "math" },
                { start: "17:00", end: "19:00", subject: "Cálculo Diferencial", type: "math" }
            ],
            "Jueves": [
                { start: "14:00", end: "16:00", subject: "Taller de Administración", type: "admin" },
                { start: "16:00", end: "18:00", subject: "Fundamentos de Investigación", type: "theory" },
                { start: "18:00", end: "19:00", subject: "Cálculo Diferencial", type: "math" }
            ],
            "Viernes": [
                { start: "12:00", end: "15:00", subject: "Fundamentos de Programación", type: "code" }
            ]
        };

        const colors = {
            math: "bg-blue-100 text-blue-800 border-l-4 border-blue-500",
            code: "bg-emerald-100 text-emerald-800 border-l-4 border-emerald-500",
            theory: "bg-indigo-100 text-indigo-800 border-l-4 border-indigo-500",
            humanity: "bg-amber-100 text-amber-800 border-l-4 border-amber-500",
            admin: "bg-purple-100 text-purple-800 border-l-4 border-purple-500"
        };

        const days = ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes"];
        
        

        let activeDay = "Lunes"; 
        let isWeekend = false;   
        let realWeekendDay = ""; 

        function init() {
            lucide.createIcons();
            determineCurrentDayCDMX(); 
            setupDayTabs();
            renderMobileView();
            renderDesktopView();
            updateDateDisplay();
            
            
            setTimeout(() => {
                const activeBtn = document.querySelector('#day-tabs button.bg-emerald-600');
                if (activeBtn) {
                    activeBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                }
            }, 100);
        }

        function updateDateDisplay() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'America/Mexico_City' 
            };
            
            document.getElementById('current-date-display').textContent = now.toLocaleDateString('es-MX', options);
        }

        function determineCurrentDayCDMX() {
            
            const dateInCDMX = new Date().toLocaleDateString("es-MX", {
                timeZone: "America/Mexico_City",
                weekday: "long"
            });

            const todayNormalized = dateInCDMX.toLowerCase();

            
            const dayMap = {
                "lunes": "Lunes",
                "martes": "Martes",
                "miércoles": "Miércoles",
                "jueves": "Jueves",
                "viernes": "Viernes",
                "sábado": "Sábado",
                "domingo": "Domingo"
            };

            if (dayMap[todayNormalized]) {
                const detectedDay = dayMap[todayNormalized];
                
                
                if (detectedDay === "Sábado" || detectedDay === "Domingo") {
                    isWeekend = true;
                    realWeekendDay = detectedDay;
                    activeDay = "Lunes"; 
                    console.log(`Es ${realWeekendDay}, mostrando Lunes por defecto.`);
                } else {
                    isWeekend = false;
                    activeDay = detectedDay;
                    console.log("Día de semana detectado:", activeDay);
                }
            } else {
                
                activeDay = "Lunes"; 
            }
        }

        function setupDayTabs() {
            const container = document.getElementById('day-tabs');
            container.innerHTML = '';
            
            days.forEach(day => {
                const shortName = day.substring(0, 3);
                const isActive = activeDay === day;
                const btn = document.createElement('button');
                
                
                let classes = "flex-1 py-2 px-4 text-sm font-medium rounded-lg transition-all duration-200 mx-1 whitespace-nowrap border ";
                if (isActive) {
                    classes += "bg-emerald-600 text-white shadow-md transform scale-105 border-emerald-700";
                } else {
                    classes += "bg-white text-slate-600 hover:bg-slate-50 border-slate-200";
                }
                
                btn.className = classes;
                btn.textContent = shortName;
                
                btn.onclick = () => {
                    activeDay = day;
                    
                    
                    
                    setupDayTabs(); 
                    renderMobileView();
                };
                container.appendChild(btn);
            });
        }

        function renderMobileView() {
            
            const titleElem = document.getElementById('active-day-title');
            const weekendAlert = document.getElementById('weekend-alert');
            
            
            const dateInCDMX = new Date().toLocaleDateString("es-MX", {
                timeZone: "America/Mexico_City",
                weekday: "long"
            }).toLowerCase();
            
            
            if (isWeekend && activeDay === "Lunes") {
                
                titleElem.textContent = `Hoy es ${realWeekendDay}, no hay clases`;
                titleElem.className = "text-slate-500 font-bold text-lg"; 
                weekendAlert.classList.remove('hidden'); 
            } else {
                
                weekendAlert.classList.add('hidden');
                titleElem.className = "text-emerald-700 font-bold text-xl"; 
                
                const isToday = activeDay.toLowerCase() === dateInCDMX || (activeDay === "Miércoles" && dateInCDMX === "miércoles");
                titleElem.textContent = isToday ? `Hoy es ${activeDay}` : `Horario del ${activeDay}`;
            }

            const listContainer = document.getElementById('class-list');
            const emptyState = document.getElementById('empty-state');
            
            listContainer.innerHTML = '';
            
            const classes = scheduleData[activeDay];

            if (!classes || classes.length === 0) {
                listContainer.classList.add('hidden');
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');
            listContainer.classList.remove('hidden');

            classes.forEach((cls, index) => {
                const card = document.createElement('div');
                card.className = `glass-card p-4 rounded-lg shadow-sm flex flex-col justify-between gap-2 fade-in ${colors[cls.type] || 'bg-white border-l-4 border-slate-300'}`;
                card.style.animationDelay = `${index * 0.05}s`; 
                
                card.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg leading-tight text-slate-800">${cls.subject}</h3>
                            <div class="flex items-center gap-2 mt-1 text-sm opacity-80 font-medium text-slate-600">
                                <i data-lucide="clock" class="w-4 h-4"></i>
                                <span>${cls.start} - ${cls.end}</span>
                            </div>
                        </div>
                        <span class="bg-white bg-opacity-70 px-2 py-1 rounded text-xs font-bold text-slate-500 border border-slate-100">3111</span>
                    </div>
                `;
                listContainer.appendChild(card);
            });
            lucide.createIcons();
        }

        function renderDesktopView() {
            const tbody = document.getElementById('desktop-schedule-body');
            tbody.innerHTML = ''; 

            for (let h = 7; h <= 20; h++) {
                const hourStr = h.toString().padStart(2, '0') + ":00";
                const nextHourStr = (h + 1).toString().padStart(2, '0') + ":00";
                const displayTime = `${hourStr} - ${nextHourStr}`;
                
                const tr = document.createElement('tr');
                tr.className = "hover:bg-slate-50 transition-colors group";
                
                const tdTime = document.createElement('td');
                tdTime.className = "px-4 py-3 font-mono text-xs text-slate-500 border-r border-slate-100 whitespace-nowrap group-hover:text-emerald-700";
                tdTime.textContent = displayTime;
                tr.appendChild(tdTime);

                days.forEach(day => {
                    const td = document.createElement('td');
                    td.className = "px-2 py-2 border border-slate-100 text-xs align-top h-12";
                    
                    const dayClasses = scheduleData[day];
                    if (dayClasses) {
                        const classFound = dayClasses.find(c => {
                            const startH = parseInt(c.start.split(':')[0]);
                            const endH = parseInt(c.end.split(':')[0]);
                            return h >= startH && h < endH;
                        });

                        if (classFound) {
                            td.innerHTML = `
                                <div class="p-2 rounded ${colors[classFound.type].replace('border-l-4', 'border-l-2')} h-full shadow-sm opacity-90 hover:opacity-100 transition-opacity">
                                    <span class="font-bold block text-xs mb-1 leading-tight">${classFound.subject}</span>
                                    <span class="text-[10px] opacity-75 uppercase tracking-wide">${classFound.start} - ${classFound.end}</span>
                                </div>
                            `;
                        }
                    }
                    tr.appendChild(td);
                });
                
                tbody.appendChild(tr);
            }
        }

        window.toggleView = function() {
            const mobile = document.getElementById('mobile-view');
            const desktop = document.getElementById('desktop-view');
            const nav = document.querySelector('nav');
            
            if (mobile.classList.contains('hidden')) {
                mobile.classList.remove('hidden');
                nav.classList.remove('hidden');
                desktop.classList.add('hidden');
            } else {
                mobile.classList.add('hidden');
                nav.classList.add('hidden');
                desktop.classList.remove('hidden');
            }
        }

        
        init();
</script>
</body>
</html>